<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AceTime: ace_time::basic::Transition Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AceTime
   &#160;<span id="projectnumber">0.5.1</span>
   </div>
   <div id="projectbrief">Date and time classes for Arduino that support timezones from the TZ Database, and a system clock that can synchronize from an NTP server or an RTC chip.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>ace_time</b></li><li class="navelem"><b>basic</b></li><li class="navelem"><a class="el" href="structace__time_1_1basic_1_1Transition.html">Transition</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="structace__time_1_1basic_1_1Transition-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ace_time::basic::Transition Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Data structure that defines the start of a specific UTC offset as described by the matching <a class="el" href="structace__time_1_1basic_1_1ZoneEra.html" title="An entry in ZoneInfo which describes which ZonePolicy was being followed during a particular time per...">ZoneEra</a> and its <a class="el" href="structace__time_1_1basic_1_1ZoneRule.html" title="A time zone transition rule. ">ZoneRule</a> for a given year.  
 <a href="structace__time_1_1basic_1_1Transition.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for ace_time::basic::Transition:</div>
<div class="dyncontent">
<div class="center"><img src="structace__time_1_1basic_1_1Transition__coll__graph.png" border="0" usemap="#ace__time_1_1basic_1_1Transition_coll__map" alt="Collaboration graph"/></div>
<map name="ace__time_1_1basic_1_1Transition_coll__map" id="ace__time_1_1basic_1_1Transition_coll__map">
<area shape="rect" id="node2" href="classace__time_1_1common_1_1FlashZoneRuleBroker.html" title="ace_time::common::FlashZone\lRuleBroker\&lt; ZoneRule \&gt;" alt="" coords="13,5,216,47"/>
<area shape="rect" id="node3" href="classace__time_1_1common_1_1FlashZoneEraBroker.html" title="ace_time::common::FlashZone\lEraBroker\&lt; ZoneEra, ZonePolicy,\l ZoneRule \&gt;" alt="" coords="5,71,224,127"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a833fc4b15af0eb2dc8b8ed679bceb41b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#a833fc4b15af0eb2dc8b8ed679bceb41b">log</a> () const</td></tr>
<tr class="memdesc:a833fc4b15af0eb2dc8b8ed679bceb41b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used only for debugging.  <a href="#a833fc4b15af0eb2dc8b8ed679bceb41b">More...</a><br /></td></tr>
<tr class="separator:a833fc4b15af0eb2dc8b8ed679bceb41b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a94cf9a8357c67aa1bd336f66755a9b2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classace__time_1_1common_1_1FlashZoneEraBroker.html">ZoneEraBroker</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#a94cf9a8357c67aa1bd336f66755a9b2c">era</a></td></tr>
<tr class="memdesc:a94cf9a8357c67aa1bd336f66755a9b2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="structace__time_1_1basic_1_1ZoneEra.html" title="An entry in ZoneInfo which describes which ZonePolicy was being followed during a particular time per...">ZoneEra</a> that matched the given year.  <a href="#a94cf9a8357c67aa1bd336f66755a9b2c">More...</a><br /></td></tr>
<tr class="separator:a94cf9a8357c67aa1bd336f66755a9b2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad70ac2546926652bd3fa20cb52d72d16"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classace__time_1_1common_1_1FlashZoneRuleBroker.html">ZoneRuleBroker</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#ad70ac2546926652bd3fa20cb52d72d16">rule</a></td></tr>
<tr class="memdesc:ad70ac2546926652bd3fa20cb52d72d16"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Zone transition rule that matched for the the given year.  <a href="#ad70ac2546926652bd3fa20cb52d72d16">More...</a><br /></td></tr>
<tr class="separator:ad70ac2546926652bd3fa20cb52d72d16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81474f9806382bfa270e319c58a68a95"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#a81474f9806382bfa270e319c58a68a95">yearTiny</a></td></tr>
<tr class="memdesc:a81474f9806382bfa270e319c58a68a95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Year which applies to the <a class="el" href="structace__time_1_1basic_1_1ZoneEra.html" title="An entry in ZoneInfo which describes which ZonePolicy was being followed during a particular time per...">ZoneEra</a> or <a class="el" href="structace__time_1_1basic_1_1ZoneRule.html" title="A time zone transition rule. ">ZoneRule</a>.  <a href="#a81474f9806382bfa270e319c58a68a95">More...</a><br /></td></tr>
<tr class="separator:a81474f9806382bfa270e319c58a68a95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51b6a6da0be1647e1fa9702270beebca"><td class="memItemLeft" align="right" valign="top">acetime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#a51b6a6da0be1647e1fa9702270beebca">startEpochSeconds</a></td></tr>
<tr class="memdesc:a51b6a6da0be1647e1fa9702270beebca"><td class="mdescLeft">&#160;</td><td class="mdescRight">The calculated transition time of the given rule.  <a href="#a51b6a6da0be1647e1fa9702270beebca">More...</a><br /></td></tr>
<tr class="separator:a51b6a6da0be1647e1fa9702270beebca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d6a8737e66f0dca13d10cce26d2b134"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#a2d6a8737e66f0dca13d10cce26d2b134">offsetCode</a></td></tr>
<tr class="memdesc:a2d6a8737e66f0dca13d10cce26d2b134"><td class="mdescLeft">&#160;</td><td class="mdescRight">The total effective UTC offsetCode at the start of transition, <em>including</em> DST offset.  <a href="#a2d6a8737e66f0dca13d10cce26d2b134">More...</a><br /></td></tr>
<tr class="separator:a2d6a8737e66f0dca13d10cce26d2b134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a201d6431760262a650003326b5638f4b"><td class="memItemLeft" align="right" valign="top"><a id="a201d6431760262a650003326b5638f4b"></a>
int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#a201d6431760262a650003326b5638f4b">deltaCode</a></td></tr>
<tr class="memdesc:a201d6431760262a650003326b5638f4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The delta offsetCode from "standard time" at the start of transition. <br /></td></tr>
<tr class="separator:a201d6431760262a650003326b5638f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32036a045f41089f421c447040cc5c9d"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#a32036a045f41089f421c447040cc5c9d">abbrev</a> [<a class="el" href="structace__time_1_1basic_1_1Transition.html#a39d2a4e51aec03a856d6228251afd060">kAbbrevSize</a>]</td></tr>
<tr class="memdesc:a32036a045f41089f421c447040cc5c9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The calculated effective time zone abbreviation, e.g.  <a href="#a32036a045f41089f421c447040cc5c9d">More...</a><br /></td></tr>
<tr class="separator:a32036a045f41089f421c447040cc5c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a39d2a4e51aec03a856d6228251afd060"><td class="memItemLeft" align="right" valign="top"><a id="a39d2a4e51aec03a856d6228251afd060"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#a39d2a4e51aec03a856d6228251afd060">kAbbrevSize</a> = 6 + 1</td></tr>
<tr class="memdesc:a39d2a4e51aec03a856d6228251afd060"><td class="mdescLeft">&#160;</td><td class="mdescRight">Longest abbreviation currently seems to be 5 characters (<a href="https://www.timeanddate.com/time/zones/">https://www.timeanddate.com/time/zones/</a>) but the TZ database spec says that abbreviations are 3 to 6 characters (<a href="https://data.iana.org/time-zones/theory.html#abbreviations">https://data.iana.org/time-zones/theory.html#abbreviations</a>), so use 6 as the maximum. <br /></td></tr>
<tr class="separator:a39d2a4e51aec03a856d6228251afd060"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Data structure that defines the start of a specific UTC offset as described by the matching <a class="el" href="structace__time_1_1basic_1_1ZoneEra.html" title="An entry in ZoneInfo which describes which ZonePolicy was being followed during a particular time per...">ZoneEra</a> and its <a class="el" href="structace__time_1_1basic_1_1ZoneRule.html" title="A time zone transition rule. ">ZoneRule</a> for a given year. </p>
<p>If the <a class="el" href="structace__time_1_1basic_1_1ZoneEra.html" title="An entry in ZoneInfo which describes which ZonePolicy was being followed during a particular time per...">ZoneEra</a> does not have a <a class="el" href="structace__time_1_1basic_1_1ZoneRule.html" title="A time zone transition rule. ">ZoneRule</a>, then the <a class="el" href="structace__time_1_1basic_1_1Transition.html" title="Data structure that defines the start of a specific UTC offset as described by the matching ZoneEra a...">Transition</a> is defined by the start date of the <a class="el" href="structace__time_1_1basic_1_1ZoneEra.html" title="An entry in ZoneInfo which describes which ZonePolicy was being followed during a particular time per...">ZoneEra</a>.</p>
<p>The 'era' and 'rule' variables intermediate values calculated during the init() phase. They are used to calculate the 'yearTiny', 'startEpochSeconds', 'offsetCode', 'deltaCode', and 'abbrev' parameters which are used during findMatch() lookup. NOTE: This separation may help move the <a class="el" href="structace__time_1_1basic_1_1ZoneInfo.html" title="Representation of a given time zone, implemented as an array of ZoneEra records. ">ZoneInfo</a> and <a class="el" href="structace__time_1_1basic_1_1ZonePolicy.html" title="A collection of transition rules which describe the DST rules of a given administrative region...">ZonePolicy</a> data structures into PROGMEM. </p>

<p class="definition">Definition at line <a class="el" href="BasicZoneProcessor_8h_source.html#l00046">46</a> of file <a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a833fc4b15af0eb2dc8b8ed679bceb41b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a833fc4b15af0eb2dc8b8ed679bceb41b">&#9670;&nbsp;</a></span>log()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ace_time::basic::Transition::log </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used only for debugging. </p>

<p class="definition">Definition at line <a class="el" href="BasicZoneProcessor_8h_source.html#l00101">101</a> of file <a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a32036a045f41089f421c447040cc5c9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32036a045f41089f421c447040cc5c9d">&#9670;&nbsp;</a></span>abbrev</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char ace_time::basic::Transition::abbrev[<a class="el" href="structace__time_1_1basic_1_1Transition.html#a39d2a4e51aec03a856d6228251afd060">kAbbrevSize</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The calculated effective time zone abbreviation, e.g. </p>
<p>"PST" or "PDT". When the <a class="el" href="structace__time_1_1basic_1_1Transition.html" title="Data structure that defines the start of a specific UTC offset as described by the matching ZoneEra a...">Transition</a> is initially created using createTransition(), abbrev[0] is set to <a class="el" href="structace__time_1_1basic_1_1ZoneRule.html#add4b7ffb810d118ae1c4a7ef9d302550" title="Determined by the LETTER column. ">ZoneRule.letter</a> (to avoid potentially another lookup in PROGMEM). That 'letter' is used later in the init() to generate the correct abbreviation which will replace the 'letter' in here. </p>

<p class="definition">Definition at line <a class="el" href="BasicZoneProcessor_8h_source.html#l00098">98</a> of file <a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a>.</p>

</div>
</div>
<a id="a94cf9a8357c67aa1bd336f66755a9b2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94cf9a8357c67aa1bd336f66755a9b2c">&#9670;&nbsp;</a></span>era</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classace__time_1_1common_1_1FlashZoneEraBroker.html">ZoneEraBroker</a> ace_time::basic::Transition::era</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The <a class="el" href="structace__time_1_1basic_1_1ZoneEra.html" title="An entry in ZoneInfo which describes which ZonePolicy was being followed during a particular time per...">ZoneEra</a> that matched the given year. </p>
<p>NonNullable.</p>
<p>This field is used only during the init() phase, not during the findMatch() phase. </p>

<p class="definition">Definition at line <a class="el" href="BasicZoneProcessor_8h_source.html#l00061">61</a> of file <a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a>.</p>

</div>
</div>
<a id="a2d6a8737e66f0dca13d10cce26d2b134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d6a8737e66f0dca13d10cce26d2b134">&#9670;&nbsp;</a></span>offsetCode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t ace_time::basic::Transition::offsetCode</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The total effective UTC offsetCode at the start of transition, <em>including</em> DST offset. </p>
<p>(Maybe rename this effectiveOffsetCode?) The DST offset is stored at deltaCode. </p>

<p class="definition">Definition at line <a class="el" href="BasicZoneProcessor_8h_source.html#l00086">86</a> of file <a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a>.</p>

</div>
</div>
<a id="ad70ac2546926652bd3fa20cb52d72d16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad70ac2546926652bd3fa20cb52d72d16">&#9670;&nbsp;</a></span>rule</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classace__time_1_1common_1_1FlashZoneRuleBroker.html">ZoneRuleBroker</a> ace_time::basic::Transition::rule</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The Zone transition rule that matched for the the given year. </p>
<p>Set to nullptr if the RULES column is '-'. We do not support a RULES column that contains a UTC offset. There are only 2 time zones that has this property as of TZ database version 2018g: Europe/Istanbul and America/Argentina/San_Luis.</p>
<p>This field is used only during the init() phase, not during the findMatch() phase. </p>

<p class="definition">Definition at line <a class="el" href="BasicZoneProcessor_8h_source.html#l00073">73</a> of file <a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a>.</p>

</div>
</div>
<a id="a51b6a6da0be1647e1fa9702270beebca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51b6a6da0be1647e1fa9702270beebca">&#9670;&nbsp;</a></span>startEpochSeconds</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">acetime_t ace_time::basic::Transition::startEpochSeconds</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The calculated transition time of the given rule. </p>

<p class="definition">Definition at line <a class="el" href="BasicZoneProcessor_8h_source.html#l00079">79</a> of file <a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a>.</p>

</div>
</div>
<a id="a81474f9806382bfa270e319c58a68a95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81474f9806382bfa270e319c58a68a95">&#9670;&nbsp;</a></span>yearTiny</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t ace_time::basic::Transition::yearTiny</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Year which applies to the <a class="el" href="structace__time_1_1basic_1_1ZoneEra.html" title="An entry in ZoneInfo which describes which ZonePolicy was being followed during a particular time per...">ZoneEra</a> or <a class="el" href="structace__time_1_1basic_1_1ZoneRule.html" title="A time zone transition rule. ">ZoneRule</a>. </p>

<p class="definition">Definition at line <a class="el" href="BasicZoneProcessor_8h_source.html#l00076">76</a> of file <a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/brian/dev/AceTime/src/ace_time/<a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
