# BasicValidationMoreTest

This unit test compares the DST transitions calculated by the
`BasicZoneSpecifier` class with the `validation_data.cpp` file generated by the
Java `../../tools/java/TestDataGenerator.java` program.

## Validation Data

The `validation_*.*` files were generated using
```
$ make validation_data
```

The Java tool generates about 130,000 data points spanning the year 2000 to
2050. It is too large to run on any Arduino board that I am aware of, including
the ESP32.

## Running the Test

The unit test does run on a Linux machine using the
[unitduino](https://github.com/bxparks/AUnit/tree/develop/unitduino) adaptor
layer included with [AUnit](https://github.com/bxparks/AUnit). Assuming that you
have `g++` and `make` installed, just type:
```
$ make clean && make -j 4
$ ./BasicValidationTest.out
TestRunner started on 231 test(s).        
Test TransitionTest_Africa_Abidjan passed. 
...
Test TransitionTest_Pacific_Wallis passed.
TestRunner duration: 0.070 seconds.
TestRunner summary: 231 passed, 0 failed, 0 skipped, 0 timed out, out of 231
test(s).
```

## JDK Version

The TZ Database version used by the `TestDataGenerator.java` and the version
used to generate the`zonedbx` files must match for this test to pass.
The JDK version was `openjdk version "11.0.3" 2019-04-16` which uses TZ Data
version 2018g. The `zonedb` files are normally generated using the latest
version (which was 2019g when this test was written). To make this unit test
pass, I had to regenerate the `src/ace_time/zonedb/` database files using 2018g,
then recompile everything.
